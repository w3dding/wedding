;(function(a){if(typeof define==='function'&&define.amd){define(['jquery'],a)}else if(typeof exports==='object'){a(require('jquery'))}else{a(window.jQuery||window.Zepto)}}(function($){var o='Close',BEFORE_CLOSE_EVENT='BeforeClose',AFTER_CLOSE_EVENT='AfterClose',BEFORE_APPEND_EVENT='BeforeAppend',MARKUP_PARSE_EVENT='MarkupParse',OPEN_EVENT='Open',CHANGE_EVENT='Change',NS='mfp',EVENT_NS='.'+NS,READY_CLASS='mfp-ready',REMOVING_CLASS='mfp-removing',PREVENT_CLOSE_CLASS='mfp-prevent-close';var q,MagnificPopup=function(){},_isJQ=!!(window.jQuery),_prevStatus,_window=$(window),_document,_prevContentType,_wrapClasses,_currPopupType;var r=function(a,f){q.ev.on(NS+a+EVENT_NS,f)},_getEl=function(a,b,c,d){var e=document.createElement('div');e.className='mfp-'+a;if(c){e.innerHTML=c}if(!d){e=$(e);if(b){e.appendTo(b)}}else if(b){b.appendChild(e)}return e},_mfpTrigger=function(e,a){q.ev.triggerHandler(NS+e,a);if(q.st.callbacks){e=e.charAt(0).toLowerCase()+e.slice(1);if(q.st.callbacks[e]){q.st.callbacks[e].apply(q,$.isArray(a)?a:[a])}}},_getCloseBtn=function(a){if(a!==_currPopupType||!q.currTemplate.closeBtn){q.currTemplate.closeBtn=$(q.st.closeMarkup.replace('%title%',q.st.tClose));_currPopupType=a}return q.currTemplate.closeBtn},_checkInstance=function(){if(!$.magnificPopup.instance){q=new MagnificPopup();q.init();$.magnificPopup.instance=q}},supportsTransitions=function(){var s=document.createElement('p').style,v=['ms','O','Moz','Webkit'];if(s['transition']!==undefined){return true}while(v.length){if(v.pop()+'Transition'in s){return true}}return false};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var a=navigator.appVersion;q.isLowIE=q.isIE8=document.all&&!document.addEventListener;q.isAndroid=(/android/gi).test(a);q.isIOS=(/iphone|ipad|ipod/gi).test(a);q.supportsTransition=supportsTransitions();q.probablyMobile=(q.isAndroid||q.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));_document=$(document);q.popupsCache={}},open:function(d){var i;if(d.isObj===false){q.items=d.items.toArray();q.index=0;var f=d.items,item;for(i=0;i<f.length;i++){item=f[i];if(item.parsed){item=item.el[0]}if(item===d.el[0]){q.index=i;break}}}else{q.items=$.isArray(d.items)?d.items:[d.items];q.index=d.index||0}if(q.isOpen){q.updateItemHTML();return}q.types=[];_wrapClasses='';if(d.mainEl&&d.mainEl.length){q.ev=d.mainEl.eq(0)}else{q.ev=_document}if(d.key){if(!q.popupsCache[d.key]){q.popupsCache[d.key]={}}q.currTemplate=q.popupsCache[d.key]}else{q.currTemplate={}}q.st=$.extend(true,{},$.magnificPopup.defaults,d);q.fixedContentPos=q.st.fixedContentPos==='auto'?!q.probablyMobile:q.st.fixedContentPos;if(q.st.modal){q.st.closeOnContentClick=false;q.st.closeOnBgClick=false;q.st.showCloseBtn=false;q.st.enableEscapeKey=false}if(!q.bgOverlay){q.bgOverlay=_getEl('bg').on('click'+EVENT_NS,function(){q.close()});q.wrap=_getEl('wrap').attr('tabindex',-1).on('click'+EVENT_NS,function(e){if(q._checkIfClose(e.target)){q.close()}});q.container=_getEl('container',q.wrap)}q.contentContainer=_getEl('content');if(q.st.preloader){q.preloader=_getEl('preloader',q.container,q.st.tLoading)}var g=$.magnificPopup.modules;for(i=0;i<g.length;i++){var n=g[i];n=n.charAt(0).toUpperCase()+n.slice(1);q['init'+n].call(q)}_mfpTrigger('BeforeOpen');if(q.st.showCloseBtn){if(!q.st.closeBtnInside){q.wrap.append(_getCloseBtn())}else{r(MARKUP_PARSE_EVENT,function(e,a,b,c){b.close_replaceWith=_getCloseBtn(c.type)});_wrapClasses+=' mfp-close-btn-in'}}if(q.st.alignTop){_wrapClasses+=' mfp-align-top'}if(q.fixedContentPos){q.wrap.css({overflow:q.st.overflowY,overflowX:'hidden',overflowY:q.st.overflowY})}else{q.wrap.css({top:_window.scrollTop(),position:'absolute'})}if(q.st.fixedBgPos===false||(q.st.fixedBgPos==='auto'&&!q.fixedContentPos)){q.bgOverlay.css({height:_document.height(),position:'absolute'})}if(q.st.enableEscapeKey){_document.on('keyup'+EVENT_NS,function(e){if(e.keyCode===27){q.close()}})}_window.on('resize'+EVENT_NS,function(){q.updateSize()});if(!q.st.closeOnContentClick){_wrapClasses+=' mfp-auto-cursor'}if(_wrapClasses)q.wrap.addClass(_wrapClasses);var h=q.wH=_window.height();var j={};if(q.fixedContentPos){if(q._hasScrollBar(h)){var s=q._getScrollbarSize();if(s){j.marginRight=s}}}if(q.fixedContentPos){if(!q.isIE7){j.overflow='hidden'}else{$('body, html').css('overflow','hidden')}}var k=q.st.mainClass;if(q.isIE7){k+=' mfp-ie7'}if(k){q._addClassToMFP(k)}q.updateItemHTML();_mfpTrigger('BuildControls');$('html').css(j);q.bgOverlay.add(q.wrap).prependTo(q.st.prependTo||$(document.body));q._lastFocusedEl=document.activeElement;setTimeout(function(){if(q.content){q._addClassToMFP(READY_CLASS);q._setFocus()}else{q.bgOverlay.addClass(READY_CLASS)}_document.on('focusin'+EVENT_NS,q._onFocusIn)},16);q.isOpen=true;q.updateSize(h);_mfpTrigger(OPEN_EVENT);return d},close:function(){if(!q.isOpen)return;_mfpTrigger(BEFORE_CLOSE_EVENT);q.isOpen=false;if(q.st.removalDelay&&!q.isLowIE&&q.supportsTransition){q._addClassToMFP(REMOVING_CLASS);setTimeout(function(){q._close()},q.st.removalDelay)}else{q._close()}},_close:function(){_mfpTrigger(o);var a=REMOVING_CLASS+' '+READY_CLASS+' ';q.bgOverlay.detach();q.wrap.detach();q.container.empty();if(q.st.mainClass){a+=q.st.mainClass+' '}q._removeClassFromMFP(a);if(q.fixedContentPos){var b={marginRight:''};if(q.isIE7){$('body, html').css('overflow','')}else{b.overflow=''}$('html').css(b)}_document.off('keyup'+EVENT_NS+' focusin'+EVENT_NS);q.ev.off(EVENT_NS);q.wrap.attr('class','mfp-wrap').removeAttr('style');q.bgOverlay.attr('class','mfp-bg');q.container.attr('class','mfp-container');if(q.st.showCloseBtn&&(!q.st.closeBtnInside||q.currTemplate[q.currItem.type]===true)){if(q.currTemplate.closeBtn)q.currTemplate.closeBtn.detach()}if(q.st.autoFocusLast&&q._lastFocusedEl){$(q._lastFocusedEl).focus()}q.currItem=null;q.content=null;q.currTemplate=null;q.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT)},updateSize:function(a){if(q.isIOS){var b=document.documentElement.clientWidth/window.innerWidth;var c=window.innerHeight*b;q.wrap.css('height',c);q.wH=c}else{q.wH=a||_window.height()}if(!q.fixedContentPos){q.wrap.css('height',q.wH)}_mfpTrigger('Resize')},updateItemHTML:function(){var a=q.items[q.index];q.contentContainer.detach();if(q.content)q.content.detach();if(!a.parsed){a=q.parseEl(q.index)}var b=a.type;_mfpTrigger('BeforeChange',[q.currItem?q.currItem.type:'',b]);q.currItem=a;if(!q.currTemplate[b]){var c=q.st[b]?q.st[b].markup:false;_mfpTrigger('FirstMarkupParse',c);if(c){q.currTemplate[b]=$(c)}else{q.currTemplate[b]=true}}if(_prevContentType&&_prevContentType!==a.type){q.container.removeClass('mfp-'+_prevContentType+'-holder')}var d=q['get'+b.charAt(0).toUpperCase()+b.slice(1)](a,q.currTemplate[b]);q.appendContent(d,b);a.preloaded=true;_mfpTrigger(CHANGE_EVENT,a);_prevContentType=a.type;q.container.prepend(q.contentContainer);_mfpTrigger('AfterChange')},appendContent:function(a,b){q.content=a;if(a){if(q.st.showCloseBtn&&q.st.closeBtnInside&&q.currTemplate[b]===true){if(!q.content.find('.mfp-close').length){q.content.append(_getCloseBtn())}}else{q.content=a}}else{q.content=''}_mfpTrigger(BEFORE_APPEND_EVENT);q.container.addClass('mfp-'+b+'-holder');q.contentContainer.append(q.content)},parseEl:function(a){var b=q.items[a],type;if(b.tagName){b={el:$(b)}}else{type=b.type;b={data:b,src:b.src}}if(b.el){var c=q.types;for(var i=0;i<c.length;i++){if(b.el.hasClass('mfp-'+c[i])){type=c[i];break}}b.src=b.el.attr('data-mfp-src');if(!b.src){b.src=b.el.attr('href')}}b.type=type||q.st.type||'inline';b.index=a;b.parsed=true;q.items[a]=b;_mfpTrigger('ElementParse',b);return q.items[a]},addGroup:function(a,b){var c=function(e){e.mfpEl=this;q._openClick(e,a,b)};if(!b){b={}}var d='click.magnificPopup';b.mainEl=a;if(b.items){b.isObj=true;a.off(d).on(d,c)}else{b.isObj=false;if(b.delegate){a.off(d).on(d,b.delegate,c)}else{b.items=a;a.off(d).on(d,c)}}},_openClick:function(e,a,b){var c=b.midClick!==undefined?b.midClick:$.magnificPopup.defaults.midClick;if(!c&&(e.which===2||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){return}var d=b.disableOn!==undefined?b.disableOn:$.magnificPopup.defaults.disableOn;if(d){if($.isFunction(d)){if(!d.call(q)){return true}}else{if(_window.width()<d){return true}}}if(e.type){e.preventDefault();if(q.isOpen){e.stopPropagation()}}b.el=$(e.mfpEl);if(b.delegate){b.items=a.find(b.delegate)}q.open(b)},updateStatus:function(a,b){if(q.preloader){if(_prevStatus!==a){q.container.removeClass('mfp-s-'+_prevStatus)}if(!b&&a==='loading'){b=q.st.tLoading}var c={status:a,text:b};_mfpTrigger('UpdateStatus',c);a=c.status;b=c.text;q.preloader.html(b);q.preloader.find('a').on('click',function(e){e.stopImmediatePropagation()});q.container.addClass('mfp-s-'+a);_prevStatus=a}},_checkIfClose:function(a){if($(a).hasClass(PREVENT_CLOSE_CLASS)){return}var b=q.st.closeOnContentClick;var c=q.st.closeOnBgClick;if(b&&c){return true}else{if(!q.content||$(a).hasClass('mfp-close')||(q.preloader&&a===q.preloader[0])){return true}if((a!==q.content[0]&&!$.contains(q.content[0],a))){if(c){if($.contains(document,a)){return true}}}else if(b){return true}}return false},_addClassToMFP:function(a){q.bgOverlay.addClass(a);q.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a);q.wrap.removeClass(a)},_hasScrollBar:function(a){return((q.isIE7?_document.height():document.body.scrollHeight)>(a||_window.height()))},_setFocus:function(){(q.st.focus?q.content.find(q.st.focus).eq(0):q.wrap).focus()},_onFocusIn:function(e){if(e.target!==q.wrap[0]&&!$.contains(q.wrap[0],e.target)){q._setFocus();return false}},_parseMarkup:function(e,f,g){var h;if(g.data){f=$.extend(g.data,f)}_mfpTrigger(MARKUP_PARSE_EVENT,[e,f,g]);$.each(f,function(a,b){if(b===undefined||b===false){return true}h=a.split('_');if(h.length>1){var c=e.find(EVENT_NS+'-'+h[0]);if(c.length>0){var d=h[1];if(d==='replaceWith'){if(c[0]!==b[0]){c.replaceWith(b)}}else if(d==='img'){if(c.is('img')){c.attr('src',b)}else{c.replaceWith($('<img>').attr('src',b).attr('class',c.attr('class')))}}else{c.attr(h[1],b)}}}else{e.find(EVENT_NS+'-'+a).html(b)}})},_getScrollbarSize:function(){if(q.scrollbarSize===undefined){var a=document.createElement("div");a.style.cssText='width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';document.body.appendChild(a);q.scrollbarSize=a.offsetWidth-a.clientWidth;document.body.removeChild(a)}return q.scrollbarSize}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(a,b){_checkInstance();if(!a){a={}}else{a=$.extend(true,{},a)}a.isObj=true;a.index=b||0;return this.instance.open(a)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(a,b){if(b.options){$.magnificPopup.defaults[a]=b.options}$.extend(this.proto,b.proto);this.modules.push(a)},defaults:{disableOn:0,key:null,midClick:false,mainClass:'',preloader:true,focus:'',closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:'auto',fixedBgPos:'auto',overflowY:'auto',closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:'Close (Esc)',tLoading:'Loading...',autoFocusLast:true}};$.fn.magnificPopup=function(a){_checkInstance();var b=$(this);if(typeof a==="string"){if(a==='open'){var c,itemOpts=_isJQ?b.data('magnificPopup'):b[0].magnificPopup,index=parseInt(arguments[1],10)||0;if(itemOpts.items){c=itemOpts.items[index]}else{c=b;if(itemOpts.delegate){c=c.find(itemOpts.delegate)}c=c.eq(index)}q._openClick({mfpEl:c},b,itemOpts)}else{if(q.isOpen)q[a].apply(q,Array.prototype.slice.call(arguments,1))}}else{a=$.extend(true,{},a);if(_isJQ){b.data('magnificPopup',a)}else{b[0].magnificPopup=a}q.addGroup(b,a)}return b};var u='inline',_hiddenClass,_inlinePlaceholder,_lastInlineElement,_putInlineElementsBack=function(){if(_lastInlineElement){_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();_lastInlineElement=null}};$.magnificPopup.registerModule(u,{options:{hiddenClass:'hide',markup:'',tNotFound:'Content not found'},proto:{initInline:function(){q.types.push(u);r(o+'.'+u,function(){_putInlineElementsBack()})},getInline:function(a,b){_putInlineElementsBack();if(a.src){var c=q.st.inline,el=$(a.src);if(el.length){var d=el[0].parentNode;if(d&&d.tagName){if(!_inlinePlaceholder){_hiddenClass=c.hiddenClass;_inlinePlaceholder=_getEl(_hiddenClass);_hiddenClass='mfp-'+_hiddenClass}_lastInlineElement=el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass)}q.updateStatus('ready')}else{q.updateStatus('error',c.tNotFound);el=$('<div>')}a.inlineElement=el;return el}q.updateStatus('ready');q._parseMarkup(b,{},a);return b}}});var w='ajax',_ajaxCur,_removeAjaxCursor=function(){if(_ajaxCur){$(document.body).removeClass(_ajaxCur)}},_destroyAjaxRequest=function(){_removeAjaxCursor();if(q.req){q.req.abort()}};$.magnificPopup.registerModule(w,{options:{settings:null,cursor:'mfp-ajax-cur',tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){q.types.push(w);_ajaxCur=q.st.ajax.cursor;r(o+'.'+w,_destroyAjaxRequest);r('BeforeChange.'+w,_destroyAjaxRequest)},getAjax:function(e){if(_ajaxCur){$(document.body).addClass(_ajaxCur)}q.updateStatus('loading');var f=$.extend({url:e.src,success:function(a,b,c){var d={data:a,xhr:c};_mfpTrigger('ParseAjax',d);q.appendContent($(d.data),w);e.finished=true;_removeAjaxCursor();q._setFocus();setTimeout(function(){q.wrap.addClass(READY_CLASS)},16);q.updateStatus('ready');_mfpTrigger('AjaxContentAdded')},error:function(){_removeAjaxCursor();e.finished=e.loadError=true;q.updateStatus('error',q.st.ajax.tError.replace('%url%',e.src))}},q.st.ajax.settings);q.req=$.ajax(f);return''}}});var x,_getTitle=function(a){if(a.data&&a.data.title!==undefined)return a.data.title;var b=q.st.image.titleSrc;if(b){if($.isFunction(b)){return b.call(q,a)}else if(a.el){return a.el.attr(b)||''}}return''};$.magnificPopup.registerModule('image',{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+'<figure>'+'<div class="mfp-img"></div>'+'<figcaption>'+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+'</div>'+'</figcaption>'+'</figure>'+'</div>',cursor:'mfp-zoom-out-cur',titleSrc:'title',verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=q.st.image,ns='.image';q.types.push('image');r(OPEN_EVENT+ns,function(){if(q.currItem.type==='image'&&a.cursor){$(document.body).addClass(a.cursor)}});r(o+ns,function(){if(a.cursor){$(document.body).removeClass(a.cursor)}_window.off('resize'+EVENT_NS)});r('Resize'+ns,q.resizeImage);if(q.isLowIE){r('AfterChange',q.resizeImage)}},resizeImage:function(){var a=q.currItem;if(!a||!a.img)return;if(q.st.image.verticalFit){var b=0;if(q.isLowIE){b=parseInt(a.img.css('padding-top'),10)+parseInt(a.img.css('padding-bottom'),10)}a.img.css('max-height',q.wH-b)}},_onImageHasSize:function(a){if(a.img){a.hasSize=true;if(x){clearInterval(x)}a.isCheckingImgSize=false;_mfpTrigger('ImageHasSize',a);if(a.imgHidden){if(q.content)q.content.removeClass('mfp-loading');a.imgHidden=false}}},findImageSize:function(b){var c=0,img=b.img[0],mfpSetInterval=function(a){if(x){clearInterval(x)}x=setInterval(function(){if(img.naturalWidth>0){q._onImageHasSize(b);return}if(c>200){clearInterval(x)}c++;if(c===3){mfpSetInterval(10)}else if(c===40){mfpSetInterval(50)}else if(c===100){mfpSetInterval(500)}},a)};mfpSetInterval(1)},getImage:function(a,b){var c=0,onLoadComplete=function(){if(a){if(a.img[0].complete){a.img.off('.mfploader');if(a===q.currItem){q._onImageHasSize(a);q.updateStatus('ready')}a.hasSize=true;a.loaded=true;_mfpTrigger('ImageLoadComplete')}else{c++;if(c<200){setTimeout(onLoadComplete,100)}else{onLoadError()}}}},onLoadError=function(){if(a){a.img.off('.mfploader');if(a===q.currItem){q._onImageHasSize(a);q.updateStatus('error',imgSt.tError.replace('%url%',a.src))}a.hasSize=true;a.loaded=true;a.loadError=true}},imgSt=q.st.image;var d=b.find('.mfp-img');if(d.length){var e=document.createElement('img');e.className='mfp-img';if(a.el&&a.el.find('img').length){e.alt=a.el.find('img').attr('alt')}a.img=$(e).on('load.mfploader',onLoadComplete).on('error.mfploader',onLoadError);e.src=a.src;if(d.is('img')){a.img=a.img.clone()}e=a.img[0];if(e.naturalWidth>0){a.hasSize=true}else if(!e.width){a.hasSize=false}}q._parseMarkup(b,{title:_getTitle(a),img_replaceWith:a.img},a);q.resizeImage();if(a.hasSize){if(x)clearInterval(x);if(a.loadError){b.addClass('mfp-loading');q.updateStatus('error',imgSt.tError.replace('%url%',a.src))}else{b.removeClass('mfp-loading');q.updateStatus('ready')}return b}q.updateStatus('loading');a.loading=true;if(!a.hasSize){a.imgHidden=true;b.addClass('mfp-loading');q.findImageSize(a)}return b}}});var y,getHasMozTransform=function(){if(y===undefined){y=document.createElement('p').style.MozTransform!==undefined}return y};$.magnificPopup.registerModule('zoom',{options:{enabled:false,easing:'ease-in-out',duration:300,opener:function(a){return a.is('img')?a:a.find('img')}},proto:{initZoom:function(){var c=q.st.zoom,ns='.zoom',image;if(!c.enabled||!q.supportsTransition){return}var d=c.duration,getElToAnimate=function(a){var b=a.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),transition='all '+(c.duration/1000)+'s '+c.easing,cssObj={position:'fixed',zIndex:9999,left:0,top:0,'-webkit-backface-visibility':'hidden'},t='transition';cssObj['-webkit-'+t]=cssObj['-moz-'+t]=cssObj['-o-'+t]=cssObj[t]=transition;b.css(cssObj);return b},showMainContent=function(){q.content.css('visibility','visible')},openTimeout,animatedImg;r('BuildControls'+ns,function(){if(q._allowZoom()){clearTimeout(openTimeout);q.content.css('visibility','hidden');image=q._getItemToZoom();if(!image){showMainContent();return}animatedImg=getElToAnimate(image);animatedImg.css(q._getOffset());q.wrap.append(animatedImg);openTimeout=setTimeout(function(){animatedImg.css(q._getOffset(true));openTimeout=setTimeout(function(){showMainContent();setTimeout(function(){animatedImg.remove();image=animatedImg=null;_mfpTrigger('ZoomAnimationEnded')},16)},d)},16)}});r(BEFORE_CLOSE_EVENT+ns,function(){if(q._allowZoom()){clearTimeout(openTimeout);q.st.removalDelay=d;if(!image){image=q._getItemToZoom();if(!image){return}animatedImg=getElToAnimate(image)}animatedImg.css(q._getOffset(true));q.wrap.append(animatedImg);q.content.css('visibility','hidden');setTimeout(function(){animatedImg.css(q._getOffset())},16)}});r(o+ns,function(){if(q._allowZoom()){showMainContent();if(animatedImg){animatedImg.remove()}image=null}})},_allowZoom:function(){return q.currItem.type==='image'},_getItemToZoom:function(){if(q.currItem.hasSize){return q.currItem.img}else{return false}},_getOffset:function(a){var b;if(a){b=q.currItem.img}else{b=q.st.zoom.opener(q.currItem.el||q.currItem)}var c=b.offset();var d=parseInt(b.css('padding-top'),10);var e=parseInt(b.css('padding-bottom'),10);c.top-=($(window).scrollTop()-d);var f={width:b.width(),height:(_isJQ?b.innerHeight():b[0].offsetHeight)-e-d};if(getHasMozTransform()){f['-moz-transform']=f['transform']='translate('+c.left+'px,'+c.top+'px)'}else{f.left=c.left;f.top=c.top}return f}}});var z='iframe',_emptyPage='//about:blank',_fixIframeBugs=function(a){if(q.currTemplate[z]){var b=q.currTemplate[z].find('iframe');if(b.length){if(!a){b[0].src=_emptyPage}if(q.isIE8){b.css('display',a?'block':'none')}}}};$.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+'</div>',srcAction:'iframe_src',patterns:{youtube:{index:'youtube.com',id:'v=',src:'//www.youtube.com/embed/%id%?autoplay=1'},vimeo:{index:'vimeo.com/',id:'/',src:'//player.vimeo.com/video/%id%?autoplay=1'},gmaps:{index:'//maps.google.',src:'%id%&output=embed'}}},proto:{initIframe:function(){q.types.push(z);r('BeforeChange',function(e,a,b){if(a!==b){if(a===z){_fixIframeBugs()}else if(b===z){_fixIframeBugs(true)}}});r(o+'.'+z,function(){_fixIframeBugs()})},getIframe:function(a,b){var c=a.src;var d=q.st.iframe;$.each(d.patterns,function(){if(c.indexOf(this.index)>-1){if(this.id){if(typeof this.id==='string'){c=c.substr(c.lastIndexOf(this.id)+this.id.length,c.length)}else{c=this.id.call(this,c)}}c=this.src.replace('%id%',c);return false}});var e={};if(d.srcAction){e[d.srcAction]=c}q._parseMarkup(b,e,a);q.updateStatus('ready');return b}}});var A=function(a){var b=q.items.length;if(a>b-1){return a-b}else if(a<0){return b+a}return a},_replaceCurrTotal=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};$.magnificPopup.registerModule('gallery',{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:'Previous (Left arrow key)',tNext:'Next (Right arrow key)',tCounter:'%curr% of %total%'},proto:{initGallery:function(){var d=q.st.gallery,ns='.mfp-gallery';q.direction=true;if(!d||!d.enabled)return false;_wrapClasses+=' mfp-gallery';r(OPEN_EVENT+ns,function(){if(d.navigateByImgClick){q.wrap.on('click'+ns,'.mfp-img',function(){if(q.items.length>1){q.next();return false}})}_document.on('keydown'+ns,function(e){if(e.keyCode===37){q.prev()}else if(e.keyCode===39){q.next()}})});r('UpdateStatus'+ns,function(e,a){if(a.text){a.text=_replaceCurrTotal(a.text,q.currItem.index,q.items.length)}});r(MARKUP_PARSE_EVENT+ns,function(e,a,b,c){var l=q.items.length;b.counter=l>1?_replaceCurrTotal(d.tCounter,c.index,l):''});r('BuildControls'+ns,function(){if(q.items.length>1&&d.arrows&&!q.arrowLeft){var a=d.arrowMarkup,arrowLeft=q.arrowLeft=$(a.replace(/%title%/gi,d.tPrev).replace(/%dir%/gi,'left')).addClass(PREVENT_CLOSE_CLASS),arrowRight=q.arrowRight=$(a.replace(/%title%/gi,d.tNext).replace(/%dir%/gi,'right')).addClass(PREVENT_CLOSE_CLASS);arrowLeft.click(function(){q.prev()});arrowRight.click(function(){q.next()});q.container.append(arrowLeft.add(arrowRight))}});r(CHANGE_EVENT+ns,function(){if(q._preloadTimeout)clearTimeout(q._preloadTimeout);q._preloadTimeout=setTimeout(function(){q.preloadNearbyImages();q._preloadTimeout=null},16)});r(o+ns,function(){_document.off(ns);q.wrap.off('click'+ns);q.arrowRight=q.arrowLeft=null})},next:function(){q.direction=true;q.index=A(q.index+1);q.updateItemHTML()},prev:function(){q.direction=false;q.index=A(q.index-1);q.updateItemHTML()},goTo:function(a){q.direction=(a>=q.index);q.index=a;q.updateItemHTML()},preloadNearbyImages:function(){var p=q.st.gallery.preload,preloadBefore=Math.min(p[0],q.items.length),preloadAfter=Math.min(p[1],q.items.length),i;for(i=1;i<=(q.direction?preloadAfter:preloadBefore);i++){q._preloadItem(q.index+i)}for(i=1;i<=(q.direction?preloadBefore:preloadAfter);i++){q._preloadItem(q.index-i)}},_preloadItem:function(a){a=A(a);if(q.items[a].preloaded){return}var b=q.items[a];if(!b.parsed){b=q.parseEl(a)}_mfpTrigger('LazyLoad',b);if(b.type==='image'){b.img=$('<img class="mfp-img" />').on('load.mfploader',function(){b.hasSize=true}).on('error.mfploader',function(){b.hasSize=true;b.loadError=true;_mfpTrigger('LazyLoadError',b)}).attr('src',b.src)}b.preloaded=true}}});var B='retina';$.magnificPopup.registerModule(B,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(m){return'@2x'+m})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var b=q.st.retina,ratio=b.ratio;ratio=!isNaN(ratio)?ratio:ratio();if(ratio>1){r('ImageHasSize'+'.'+B,function(e,a){a.img.css({'max-width':a.img[0].naturalWidth/ratio,'width':'100%'})});r('ElementParse'+'.'+B,function(e,a){a.src=b.replaceSrc(a,ratio)})}}}}});_checkInstance()}));
